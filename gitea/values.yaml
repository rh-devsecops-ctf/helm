---
subDomain: __OVERWRITE_ME__
prefix: __OVERWRITE_ME__
count: __OVERWRITE_ME__


consoleLinks:
  gitea:
    enabled: false

gitea:
  name: gitea
  namespace: gitea

  image:
    name: quay.io/rhpds/gitea
    pullPolicy: IfNotPresent
    tag: "1.24.6"

  postgres:
    image:
      name: "registry.redhat.io/rhel9/postgresql-16"
      pullPolicy: IfNotPresent
      tag: latest

  hostname: "gitea.{{ .Values.subDomain }}"

  users:
    createAdmin: false
    admin:
      username: __OVERWRITE_ME__
      password: __OVERWRITE_ME__
    createUsers: false
    userPassword: __OVERWRITE_ME__

  # When migrateViaJob is true, a post-deploy Job migrates repos (supports perUser and owner). Operator migration is disabled.
  # Per repo: name, repo (url), private; optional: perUser (bool), owner (username, default admin).
  repositories:
    migrateViaOperator:
      enabled: false
      repositoriesList: []
    migrateViaJob:
      enabled: false   # post-deploy Job migrates repos (perUser / owner supported)
      repositoriesList: []
      # Image for the migrate Job (private Quay image needs imagePullSecrets in this namespace)
      image: quay-registry-quay-app.quay.svc.cluster.local/quayadmin/ubi10-curl-jq:latest
      # Secret must exist in gitea namespace (type kubernetes.io/dockerconfigjson) for Quay pull.
      imagePullSecrets: 
        - name: quay-pull-secret

  registration:
    disableRegistration: false
    allowCreateOrganization: true

  Webhook:
    allowedHostsList: 'external,private'
    skipTlsVerify: false

quay:
  initialSuperuser:
    username: __OVERWRITE_ME__
    password: __OVERWRITE_ME__
  configBundle:
    serverHostname: "quay-registry.{{ .Values.subDomain }}"    