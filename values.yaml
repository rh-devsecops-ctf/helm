---
operators:
  keycloak:
    enabled: true
  openshiftPipelines:
    enabled: true
  trustedArtifactSigner:
    enabled: true
  trustedProfileAnalyzer:
    enabled: true
  advancedClusterSecurity:
    enabled: true
  # minio:
  #   enabled: true

ConsoleLinks:
  keycloak:
    enabled: true
  keycloakRealm:
    enabled: true
  minio:
    enabled: true
  acs:
    enabled: true

namespaces: 
  - keycloak
  - trusted-artifact-signer
  - trusted-artifact-signer-operator  
  - trusted-profile-analyzer
  - trusted-profile-analyzer-operator  
  - acs
  - acs-operator
  - minio
  - quay
  - gitea

keycloak:
  namespace: keycloak
  name: keycloak
  database:
    vendor: postgres
    host: keycloak-db-pgsql
    name: keycloak-db
    secretName: keycloak-db-pgsql-user
  route:
    # The host for the Keycloak route, this is the URL Keycloak will respond to.
    tls:
      # Toggles the TLS configuration for the Keycloak route, when disabled the
      # endpoint exposed is HTTP only.
      enabled: true

keycloakRealm:
  namespace: keycloak
  adminUsername: admin
  adminPassword: changeme
  adminEmail: admin@change.me  
  tas:
    enabled: true
    clients:
      tas:
        enabled: true  
  tpa:
    enabled: true
    clients:
      cli:
        enabled: true

tas:
  fulcio:
    certificate:
      organizationName: TSSC
      organizationEmail: tas@change.me
  integrationSecret:
    namespace: __OVERWRITE_ME__


tpa:
  # Realm's OIDC issuer URL, the endpoint to TPA's realm.
  database:
    sslMode: disable
    host:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: host
    port:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: port
    name:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: dbname
    username:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: user
    password:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: password
  createDatabase:
    name:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: dbname
    username:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: user
    password:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: password
  migrateDatabase:
    username:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: user
    password:
      valueFrom:
        secretKeyRef:
          name: tpadb-pgsql-user
          key: password  
  ingress:
    className: openshift-default
  modules:
    createDatabase:
      enabled: true
    migrateDatabase:
      enabled: true
    createImporters:
      enabled: true
    server:
      resources:
        requests:
          cpu: 1
          memory: 8Gi

  storage:
    type: filesystem
    size: 32Gi

trustification:
  appDomain: __OVERWRITE_ME__

minio:
  adminUser:
    username: admin
    password: changeme123
  storageSize: 50Gi

acs:
  collector:
    # Controls whether the collector should be configured to use external IPs for
    # network communication.
    config:
      expternal_ips_enable: true
  integrationSecret:
    namespace: acs
    name:  acs-integration        